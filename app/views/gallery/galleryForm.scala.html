@(title: String, categories: List[models.Category], form: Form[models.GalleryForm])(implicit request: play.api.mvc.RequestHeader)

@import views.html.helper.bootstrap._

@main(title){
<script>
            (function () {
                title.focus();
            })();
        </script>
}{

@menu.topmenu(views.menu.TopMenuElement.Gallery, form.apply("categoryId").value.get.toInt)

@gallerymenu(views.gallery.GalleryMenuElement.GalleryForm,
    form.apply("categoryId").value.get.toInt,
    form.apply("galleryId").value.get.toInt,
    title)

    <br>

    @helper.form(action=controllers.gallery.routes.GalleryForms.save, args =
    'class -> "form-horizontal",
    'role -> "form") {

    @form.globalError.map { error =>
    <div class="alert alert-dismissable alert-danger">
        <button type="button" class="close" data-dismiss="alert">Ã—</button>
        <strong>@error.message</strong>
    </div>
    }

    @helper.inputText(form("title"),
    'class -> "form-control",
    '_label -> "Title",
    '_help -> "70 characters max",
    'maxlength -> 70)

    @helper.select(form("categoryId"),
    categories.map(c => (c.categoryId.toString, c.title)),
    '_label -> "Category",
    'class -> "input-sm",
    '_showConstraints -> false
    )

    @helper.textarea(form("comment"),
    'class -> "form-control",
    '_label -> "Comment",
    '_help -> "3000 characters max",
    'rows -> 10,
    'maxlength -> 3000)

    @helper.checkbox(form("online"),
    'class -> "form-control",
    '_label -> "On-line",
    '_showConstraints -> false)

    <input type="hidden" name="galleryId" value='@form.apply("galleryId").value'>

    <div class="form-group">
        <div class="col-sm-offset-2 col-sm-10">
            <a href='@controllers.gallery.routes.Galleries.view(form.apply("categoryId").value.get.toInt)'
               role="button" class="btn btn-primary btn-sm">Cancel</a>
            &nbsp;&nbsp;
            <button type="submit" class="btn btn-primary btn-sm">
                <span class="glyphicon glyphicon-floppy-disk"></span>&nbsp;Save
            </button>
        </div>
    </div>
    }
}